<h2 class="my-3">Register an account</h2>

<div class="card col-lg-4 form">
  <form id="form" action="/signup" method="POST">
    <br>
    <label class="mt-3" for="username">Username</label>
    <input class=" w-100" type="text" name="username" placeholder="Username" required pattern="\w+"
      title="Please input a valid username" onchange="
        this.setCustomValidity(this.validity.patternMismatch ? this.title : '');">
    <br>
    <label class="mt-3" for="password">Password</label>
    <input class=" w-100" type="password" name="password" placeholder="Password" required
      pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}"
      title="Passwords must be at least six characters long, and include both lower and uppercase letters and at least one number."
      onchange="
        this.setCustomValidity(this.validity.patternMismatch ? this.title : '');
  if(this.checkValidity()) form.password2.pattern = RegExp.escape(this.value);">
    <br>
    <label class="mt-3" for="password2">Repeat your password</label>
    <input class=" w-100" type="password" name="password2" placeholder="Password" required
      pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" title="Please input the same password as above" onchange="
        this.setCustomValidity(this.validity.patternMismatch ? this.title : '');">
    <br>
    <button type="submit" class="btn my-4 btn-primary w-100">Create an account</button>
  </form>

  {{#if errorMessage}}
  <h4 class="rounded-pill text-center py-3 px-2 bg-danger text-light font-weight-bold mb-5">{{ errorMessage}}</h4>
  {{/if}}
</div>